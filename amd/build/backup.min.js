define("local_solent/backup",["exports","core/log"],(function(_exports,_log){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.restrictactivitybackup=void 0,_log=(obj=_log)&&obj.__esModule?obj:{default:obj};_exports.restrictactivitybackup=data=>{_log.default.debug("hello");const biform=document.querySelector('#page-backup-backup div[role="main"] form, #page-backup-import div[role="main"] form'),stage=biform.stage.value,jumpto=document.querySelector('[name="oneclickbackup"]'),legacy=document.querySelector('[name="setting_root_legacyfiles"]');if(jumpto&&(jumpto.style.display="none",jumpto.setAttribute("disabled",!0)),legacy&&(legacy.removeAttribute("checked"),legacy.setAttribute("disabled",!0),legacy.value=0),2!=stage)return;if(!data)return;let checkboxes=biform.querySelectorAll('input[type="checkbox"]');_log.default.debug(data.length),checkboxes.forEach((checkbox=>{let name=checkbox.name,label=checkbox.parentNode.innerText;data.forEach((item=>{item.activity&&item.title?-1!=name.search(new RegExp("activity_"+item.activity+"[0-9a-z_]+included"))&&-1!=label.search(item.title)&&(checkbox.setAttribute("checked",!1),checkbox.setAttribute("disabled",!0)):item.activity?-1!=name.search(new RegExp("activity_"+item.activity+"[0-9a-z_]+included"))&&(checkbox.setAttribute("checked",!1),checkbox.setAttribute("disabled",!0)):item.title&&-1!=label.search(item.title)&&(checkbox.setAttribute("checked",!1),checkbox.setAttribute("disabled",!0))}))})),_log.default.debug(data.length)}}));

//# sourceMappingURL=backup.min.js.map